module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},83497,a=>{"use strict";let b=(0,a.i(70106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},36770,a=>{"use strict";let b="http://localhost:5000/api";async function c(a){let b=await a.json();if(!a.ok)throw Error(b.error||b.message||"Something went wrong");return b.success&&void 0!==b.data?b.data:b}a.s(["authAPI",0,{login:async(a,c)=>{let d=await fetch(`${b}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:a,password:c})}),e=await d.json();if(!d.ok)throw Error(e.error||"Login failed");return e.data||e},verifyToken:async a=>c(await fetch(`${b}/auth/verify`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include"}))},"menuAPI",0,{getAll:async()=>{try{let a=await fetch(`${b}/menu`,{method:"GET",headers:{"Content-Type":"application/json"}}),c=await a.json();if(console.log("Menu API Response:",c),!a.ok)throw Error(c.error||"Failed to fetch menu");if(c.success&&c.data)return c.data;if(Array.isArray(c))return c;return c.menu||c.data||c}catch(a){throw console.error("Menu API Error:",a),a}},getById:async a=>c(await fetch(`${b}/menu/${a}`)),create:async(a,d)=>c(await fetch(`${b}/menu`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})),update:async(a,d,e)=>c(await fetch(`${b}/menu/${a}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)})),delete:async(a,d)=>c(await fetch(`${b}/menu/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include"}))},"orderAPI",0,{getAll:async a=>{try{let c=await fetch(`${b}/orders`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include"}),d=await c.json();if(console.log("Orders API Response:",d),!c.ok)throw Error(d.error||"Failed to fetch orders");if(d.success&&d.data)return d.data;if(Array.isArray(d))return d;return d.orders||d.data||d}catch(a){throw console.error("Orders API Error:",a),a}},getById:async a=>{try{console.log("ðŸ” Fetching order by ID:",a),console.log("ðŸ“¡ API URL:",`${b}/orders/${a}`);let c=await fetch(`${b}/orders/${a}`),d=await c.json();if(console.log("ðŸ“¦ Order response:",d),console.log("âœ… Response OK?",c.ok),!c.ok)throw console.error("âŒ Order fetch failed:",d.error),Error(d.error||"Order not found");if(d.success&&d.data)return console.log("âœ… Returning result.data"),d.data;return console.log("âœ… Returning result directly"),d}catch(a){throw console.error("âŒ Order getById Error:",a.message),a}},create:async a=>{try{console.log("ðŸ“¤ Creating order with data:",a);let d=await fetch(`${b}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await c(d);return console.log("âœ… Order created, response:",e),console.log("ðŸ†” Order ID from response:",e.order_id||e.id||e.data?.order_id),e}catch(a){throw console.error("âŒ Order create error:",a),a}},updateStatus:async(a,c,d)=>{try{if(!["pending","confirmed","processing","ready","completed","cancelled"].includes(c))throw Error("Invalid status: "+c);let e=await fetch(`${b}/orders/${a}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:c})}),f=await e.json();if(!e.ok)throw Error(f.error||"Failed to update status");return f.data||f}catch(a){throw console.error("Update Status Error:",a),a}},uploadPaymentProof:async(a,c)=>{try{let d;console.log("ðŸ“¤ Starting upload payment proof..."),console.log("ðŸ†” Order ID:",a),console.log("ðŸ“ Image size:",c.length,"characters"),console.log("ðŸ“Š Size estimate:",(c.length/1024).toFixed(2),"KB"),console.log("ðŸ” First 50 chars:",c.substring(0,50));let e=`${b}/orders/${a}/payment-proof`;console.log("ðŸ”— API URL:",e);let f=await fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_proof:c})});console.log("ðŸ“¡ Response status:",f.status),console.log("ðŸ“¡ Response ok:",f.ok);let g=f.headers.get("content-type");if(console.log("ðŸ“„ Content-Type:",g),g&&g.includes("application/json"))d=await f.json(),console.log("ðŸ“¦ Response data:",d);else{let a=await f.text();throw console.error("âŒ Response is not JSON:",a),Error("Server returned non-JSON response: "+a.substring(0,100))}if(!f.ok){console.error("âŒ Upload failed with status:",f.status),console.error("âŒ Error details:",d);let a=d.error||d.message||d.details||`Upload failed with status ${f.status}`;throw Error(a)}if(!d.success)throw console.warn("âš ï¸ Success flag is false:",d),Error(d.error||d.message||"Upload failed but no error message");return console.log("âœ… Upload successful!"),d}catch(a){throw console.error("âŒ Upload Payment Proof Error:",a.message),a.stack&&console.error("Stack trace:",a.stack),Error(a.message||"Failed to upload payment proof. Please check your connection and try again.")}},getByPhone:async a=>{try{console.log("ðŸ“ž Fetching orders for phone:",a);let c=await fetch(`${b}/orders/customer/by-phone/${a}`),d=await c.json();if(console.log("ðŸ“¦ Orders response:",d),!c.ok)throw Error(d.error||"Failed to fetch orders");return d.data||[]}catch(a){throw console.error("âŒ Error fetching orders:",a),a}}}])},16201,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},41710,62722,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>c],41710);let d=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>d],62722)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},20313,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(36770),e=a.i(41710),f=a.i(16201),g=a.i(62722),h=a.i(83497),i=a.i(210);function j(){return(0,b.jsx)("div",{style:{background:"white",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:(0,b.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",alignItems:"center",gap:"20px"},children:[(0,b.jsx)("button",{onClick:()=>window.history.back(),style:{padding:"10px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,b.jsx)(i.ArrowLeft,{style:{width:"24px",height:"24px",color:"#111827"}})}),(0,b.jsx)("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#111827"},children:"Pesanan Saya"})]})})}let k=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function l({phoneNumber:a,loading:c,error:d,onPhoneChange:e,onSearch:f,onClear:g}){return(0,b.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"30px",marginBottom:"30px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,b.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px",color:"#111827"},children:"ðŸ” Cek Status Pesanan"}),(0,b.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,b.jsx)("input",{type:"tel",value:a,onChange:a=>e(a.target.value),placeholder:"Masukkan nomor telepon (contoh: 08123456789)",style:{flex:"1",minWidth:"250px",padding:"15px 20px",border:"2px solid #E5E7EB",borderRadius:"12px",fontSize:"16px",outline:"none",color:"#111827"},onKeyPress:a=>"Enter"===a.key&&f()}),a&&(0,b.jsx)("button",{onClick:g,style:{padding:"15px 20px",background:"#DC2626",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"âœ• Clear"}),(0,b.jsxs)("button",{onClick:()=>f(),disabled:c,style:{padding:"15px 30px",background:c?"#9CA3AF":"#F59E0B",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:c?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,b.jsx)(k,{style:{width:"20px",height:"20px"}}),c?"Mencari...":"Cari Pesanan"]})]}),d&&(0,b.jsxs)("p",{style:{marginTop:"15px",color:"#DC2626",fontSize:"14px"},children:["âš ï¸ ",d]})]})}function m({order:a,onViewDetail:c,getStatusInfo:d,formatPrice:e,formatDate:f}){let g=d(a.status),h=g.icon;return(0,b.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",transition:"all 0.3s",cursor:"pointer"},onClick:()=>c(a.id),onMouseEnter:a=>{a.currentTarget.style.transform="translateY(-5px)",a.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:a=>{a.currentTarget.style.transform="translateY(0)",a.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.08)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,b.jsxs)("span",{style:{fontFamily:"monospace",fontSize:"18px",fontWeight:"bold",color:"#111827"},children:["#",a.id.toString().padStart(6,"0")]}),(0,b.jsxs)("span",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"5px"},className:g.color,children:[(0,b.jsx)(h,{style:{width:"14px",height:"14px"}}),g.label]})]}),(0,b.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,b.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"5px"},children:a.customer_name}),(0,b.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280"},children:["ðŸ“ž ",a.customer_phone]})]}),(0,b.jsxs)("div",{style:{padding:"15px",background:"#F9FAFB",borderRadius:"12px",marginBottom:"15px"},children:[(0,b.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["ðŸ“… ",f(a.created_at)]}),(0,b.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["ðŸ“¦ ",a.item_count," item"]}),(0,b.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"#F59E0B",marginTop:"10px"},children:e(a.total_price)})]}),(0,b.jsx)("button",{style:{width:"100%",padding:"12px",background:"#FEF3C7",color:"#92400E",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Lihat Detail â†’"})]})}function n({show:a,order:c,onClose:d,getStatusInfo:e,formatPrice:f,formatDate:g}){return a&&c?(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:d,children:(0,b.jsxs)("div",{style:{background:"white",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",borderRadius:"20px",padding:"30px",position:"relative"},onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:d,style:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:"Ã—"}),(0,b.jsxs)("h2",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px",color:"#111827"},children:["Detail Pesanan #",c.id.toString().padStart(6,"0")]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Nama Customer"}),(0,b.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:c.customer_name})]}),(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Telepon"}),(0,b.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:c.customer_phone})]}),(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Tanggal Pesanan"}),(0,b.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:g(c.created_at)})]}),c.notes&&(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Catatan"}),(0,b.jsx)("p",{style:{fontSize:"16px",color:"#111827"},children:c.notes})]}),(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"10px"},children:"Item Pesanan"}),c.items&&c.items.map((a,c)=>(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",background:"#F9FAFB",borderRadius:"8px",marginBottom:"8px"},children:[(0,b.jsxs)("span",{style:{fontSize:"14px",color:"#111827"},children:[a.menu_name," x",a.quantity]}),(0,b.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#111827"},children:f(a.price*a.quantity)})]},c))]}),(0,b.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"2px solid #F59E0B"},children:[(0,b.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Status"}),(0,b.jsx)("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"8px 15px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},className:e(c.status).color,children:e(c.status).label})]}),(0,b.jsx)("div",{style:{paddingTop:"15px"},children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#111827"},children:"TOTAL"}),(0,b.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#F59E0B"},children:f(c.total_price)})]})})]})]})}):null}function o(){return(0,b.jsx)("style",{children:`
      .bg-yellow-100 { background-color: #FEF3C7; }
      .text-yellow-800 { color: #92400E; }
      .bg-blue-100 { background-color: #DBEAFE; }
      .text-blue-800 { color: #1E40AF; }
      .bg-purple-100 { background-color: #EDE9FE; }
      .text-purple-800 { color: #5B21B6; }
      .bg-green-100 { background-color: #D1FAE5; }
      .text-green-800 { color: #065F46; }
      .bg-gray-100 { background-color: #F3F4F6; }
      .text-gray-800 { color: #1F2937; }
      .bg-red-100 { background-color: #FEE2E2; }
      .text-red-800 { color: #991B1B; }
    `})}function p(){let[a,i]=(0,c.useState)(""),[k,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=localStorage.getItem("customer_phone");a&&i(a)},[]);let y=async b=>{let c=b||a;if(!c)return void t("Masukkan nomor telepon");try{r(!0),t("");let a=await d.orderAPI.getByPhone(c);p(a),localStorage.setItem("customer_phone",c),0===a.length&&t("Tidak ada pesanan ditemukan untuk nomor ini")}catch(a){t("Gagal memuat pesanan: "+a.message)}finally{r(!1)}},z=async a=>{try{let b=await d.orderAPI.getById(a.toString());v(b),x(!0)}catch(a){alert("Gagal memuat detail: "+a.message)}},A=a=>{let b={pending:{label:"Menunggu Pembayaran",color:"bg-yellow-100 text-yellow-800",icon:e.Clock},confirmed:{label:"Pembayaran Dikonfirmasi",color:"bg-blue-100 text-blue-800",icon:f.CheckCircle},processing:{label:"Sedang Diproses",color:"bg-purple-100 text-purple-800",icon:h.Package},ready:{label:"Siap Diambil",color:"bg-green-100 text-green-800",icon:f.CheckCircle},completed:{label:"Selesai",color:"bg-gray-100 text-gray-800",icon:f.CheckCircle},cancelled:{label:"Dibatalkan",color:"bg-red-100 text-red-800",icon:g.XCircle}};return b[a]||b.pending},B=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),C=a=>new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,b.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #FEF3C7 0%, #FED7AA 50%, #FECACA 100%)"},children:[(0,b.jsx)(j,{}),(0,b.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},children:[(0,b.jsx)(l,{phoneNumber:a,loading:q,error:s,onPhoneChange:i,onSearch:y,onClear:()=>{i(""),p([]),t(""),localStorage.removeItem("customer_phone")}}),k.length>0&&(0,b.jsx)("div",{style:{display:"grid",gap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))"},children:k.map(a=>(0,b.jsx)(m,{order:a,onViewDetail:z,getStatusInfo:A,formatPrice:B,formatDate:C},a.id))})]}),(0,b.jsx)(n,{show:w,order:u,onClose:()=>x(!1),getStatusInfo:A,formatPrice:B,formatDate:C}),(0,b.jsx)(o,{})]})}a.s(["default",()=>p],20313)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__dfb4c14e._.js.map