module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36770,a=>{"use strict";let b="http://localhost:5000/api";async function c(a){let b=await a.json();if(!a.ok)throw Error(b.error||b.message||"Something went wrong");return b.success&&void 0!==b.data?b.data:b}a.s(["authAPI",0,{login:async(a,c)=>{let d=await fetch(`${b}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:a,password:c})}),e=await d.json();if(!d.ok)throw Error(e.error||"Login failed");return e.data||e},verifyToken:async a=>c(await fetch(`${b}/auth/verify`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include"}))},"menuAPI",0,{getAll:async()=>{try{let a=await fetch(`${b}/menu`,{method:"GET",headers:{"Content-Type":"application/json"}}),c=await a.json();if(console.log("Menu API Response:",c),!a.ok)throw Error(c.error||"Failed to fetch menu");if(c.success&&c.data)return c.data;if(Array.isArray(c))return c;return c.menu||c.data||c}catch(a){throw console.error("Menu API Error:",a),a}},getById:async a=>c(await fetch(`${b}/menu/${a}`)),create:async(a,d)=>c(await fetch(`${b}/menu`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)})),update:async(a,d,e)=>c(await fetch(`${b}/menu/${a}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(d)})),delete:async(a,d)=>c(await fetch(`${b}/menu/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include"}))},"orderAPI",0,{getAll:async a=>{try{let c=await fetch(`${b}/orders`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include"}),d=await c.json();if(console.log("Orders API Response:",d),!c.ok)throw Error(d.error||"Failed to fetch orders");if(d.success&&d.data)return d.data;if(Array.isArray(d))return d;return d.orders||d.data||d}catch(a){throw console.error("Orders API Error:",a),a}},getById:async a=>{try{console.log("ðŸ” Fetching order by ID:",a),console.log("ðŸ“¡ API URL:",`${b}/orders/${a}`);let c=await fetch(`${b}/orders/${a}`),d=await c.json();if(console.log("ðŸ“¦ Order response:",d),console.log("âœ… Response OK?",c.ok),!c.ok)throw console.error("âŒ Order fetch failed:",d.error),Error(d.error||"Order not found");if(d.success&&d.data)return console.log("âœ… Returning result.data"),d.data;return console.log("âœ… Returning result directly"),d}catch(a){throw console.error("âŒ Order getById Error:",a.message),a}},create:async a=>{try{console.log("ðŸ“¤ Creating order with data:",a);let d=await fetch(`${b}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await c(d);return console.log("âœ… Order created, response:",e),console.log("ðŸ†” Order ID from response:",e.order_id||e.id||e.data?.order_id),e}catch(a){throw console.error("âŒ Order create error:",a),a}},updateStatus:async(a,c,d)=>{try{if(!["pending","confirmed","processing","ready","completed","cancelled"].includes(c))throw Error("Invalid status: "+c);let e=await fetch(`${b}/orders/${a}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:c})}),f=await e.json();if(!e.ok)throw Error(f.error||"Failed to update status");return f.data||f}catch(a){throw console.error("Update Status Error:",a),a}},uploadPaymentProof:async(a,c)=>{try{let d;console.log("ðŸ“¤ Starting upload payment proof..."),console.log("ðŸ†” Order ID:",a),console.log("ðŸ“ Image size:",c.length,"characters"),console.log("ðŸ“Š Size estimate:",(c.length/1024).toFixed(2),"KB"),console.log("ðŸ” First 50 chars:",c.substring(0,50));let e=`${b}/orders/${a}/payment-proof`;console.log("ðŸ”— API URL:",e);let f=await fetch(e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_proof:c})});console.log("ðŸ“¡ Response status:",f.status),console.log("ðŸ“¡ Response ok:",f.ok);let g=f.headers.get("content-type");if(console.log("ðŸ“„ Content-Type:",g),g&&g.includes("application/json"))d=await f.json(),console.log("ðŸ“¦ Response data:",d);else{let a=await f.text();throw console.error("âŒ Response is not JSON:",a),Error("Server returned non-JSON response: "+a.substring(0,100))}if(!f.ok){console.error("âŒ Upload failed with status:",f.status),console.error("âŒ Error details:",d);let a=d.error||d.message||d.details||`Upload failed with status ${f.status}`;throw Error(a)}if(!d.success)throw console.warn("âš ï¸ Success flag is false:",d),Error(d.error||d.message||"Upload failed but no error message");return console.log("âœ… Upload successful!"),d}catch(a){throw console.error("âŒ Upload Payment Proof Error:",a.message),a.stack&&console.error("Stack trace:",a.stack),Error(a.message||"Failed to upload payment proof. Please check your connection and try again.")}},getByPhone:async a=>{try{console.log("ðŸ“ž Fetching orders for phone:",a);let c=await fetch(`${b}/orders/customer/by-phone/${a}`),d=await c.json();if(console.log("ðŸ“¦ Orders response:",d),!c.ok)throw Error(d.error||"Failed to fetch orders");return d.data||[]}catch(a){throw console.error("âŒ Error fetching orders:",a),a}}}])},72692,a=>{"use strict";let b=(0,a.i(70106).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);a.s(["Menu",()=>b],72692)},70106,a=>{"use strict";var b=a.i(72131);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],70106)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},83497,a=>{"use strict";let b=(0,a.i(70106).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],83497)},58652,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944);let f=(0,a.i(70106).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var g=a.i(72692),h=a.i(33508),i=a.i(83497);function j(){let[a,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(0),m=(0,e.usePathname)();return(0,c.useEffect)(()=>{let a=()=>{let a=localStorage.getItem("pempek_cart");a?l(JSON.parse(a).reduce((a,b)=>a+b.quantity,0)):l(0)};return a(),window.addEventListener("storage",a),window.addEventListener("cartUpdated",a),()=>{window.removeEventListener("storage",a),window.removeEventListener("cartUpdated",a)}},[]),(0,b.jsx)("nav",{className:"bg-white shadow-sm fixed w-full top-0 z-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,b.jsx)(d.default,{href:"/",className:"flex-shrink-0",children:(0,b.jsxs)("div",{className:"bg-orange-500 text-white font-bold text-xl px-3 py-2 rounded-lg transform -rotate-3 cursor-pointer hover:scale-105 transition-transform",children:["PEMPEK",(0,b.jsx)("div",{className:"text-3xl",children:"7ULU"})]})}),(0,b.jsxs)("div",{className:"hidden md:flex items-center space-x-2",children:[(0,b.jsx)(d.default,{href:"/",className:`px-8 py-3 rounded-full font-medium transition-all ${"/"===m?"bg-orange-500 text-white shadow-lg":"text-gray-700 hover:bg-orange-100"}`,children:"Home"}),(0,b.jsx)(d.default,{href:"/menu",className:`px-8 py-3 rounded-full font-medium transition-all ${"/menu"===m?"bg-orange-500 text-white shadow-lg":"text-gray-700 hover:bg-orange-100"}`,children:"Menu"}),(0,b.jsx)(d.default,{href:"/kontak",className:`px-8 py-3 rounded-full font-medium transition-all ${"/kontak"===m?"bg-orange-500 text-white shadow-lg":"text-gray-700 hover:bg-orange-100"}`,children:"Kontak"}),(0,b.jsx)(d.default,{href:"/order",className:`px-8 py-3 rounded-full font-medium transition-all ${"/order"===m?"bg-orange-500 text-white shadow-lg":"text-gray-700 hover:bg-orange-100"}`,children:"Order"}),(0,b.jsxs)(d.default,{href:"/my-orders",className:`px-8 py-3 rounded-full font-medium transition-all flex items-center gap-2 ${"/order-detail"===m?"bg-orange-500 text-white shadow-lg":"text-gray-700 hover:bg-orange-100"}`,children:[(0,b.jsx)(i.Package,{className:"w-4 h-4"}),"Pesanan Saya"]})]}),(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsxs)(d.default,{href:"/cart",className:"relative p-3 hover:bg-orange-100 rounded-full transition-colors cursor-pointer block",children:[(0,b.jsx)(f,{className:"w-8 h-8 text-gray-700"}),k>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold",children:k})]})}),(0,b.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(0,b.jsxs)(d.default,{href:"/cart",className:"relative p-2 hover:bg-orange-100 rounded-full",children:[(0,b.jsx)(f,{className:"w-6 h-6 text-gray-700"}),k>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:k})]}),(0,b.jsx)("button",{onClick:()=>j(!a),className:"p-2 hover:bg-gray-100 rounded-full",children:a?(0,b.jsx)(h.X,{className:"w-6 h-6 text-gray-700"}):(0,b.jsx)(g.Menu,{className:"w-6 h-6 text-gray-700"})})]})]}),a&&(0,b.jsx)("div",{className:"md:hidden pb-4",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,b.jsx)(d.default,{href:"/",onClick:()=>j(!1),className:`px-4 py-3 rounded-lg font-medium text-left ${"/"===m?"bg-orange-500 text-white":"text-gray-700 hover:bg-orange-100"}`,children:"Home"}),(0,b.jsx)(d.default,{href:"/menu",onClick:()=>j(!1),className:`px-4 py-3 rounded-lg font-medium text-left ${"/menu"===m?"bg-orange-500 text-white":"text-gray-700 hover:bg-orange-100"}`,children:"Menu"}),(0,b.jsx)(d.default,{href:"/kontak",onClick:()=>j(!1),className:`px-4 py-3 rounded-lg font-medium text-left ${"/kontak"===m?"bg-orange-500 text-white":"text-gray-700 hover:bg-orange-100"}`,children:"Kontak"}),(0,b.jsx)(d.default,{href:"/order",onClick:()=>j(!1),className:`px-4 py-3 rounded-lg font-medium text-left ${"/order"===m?"bg-orange-500 text-white":"text-gray-700 hover:bg-orange-100"}`,children:"Order"}),(0,b.jsxs)(d.default,{href:"/my-orders",onClick:()=>j(!1),className:`px-4 py-3 rounded-lg font-medium text-left flex items-center gap-2 ${"/order-detail"===m?"bg-orange-500 text-white":"text-gray-700 hover:bg-orange-100"}`,children:[(0,b.jsx)(i.Package,{className:"w-4 h-4"}),"Pesanan Saya"]})]})})]})})}a.s(["default",()=>j],58652)},23025,a=>{"use strict";let b=(0,a.i(70106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],23025)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},50588,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(58652),e=a.i(36770),f=a.i(50944),g=a.i(23025),h=a.i(15618);let i=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function j({item:a,index:c,onUpdateQuantity:d,onRemoveItem:e,onUpdateNotes:f,formatPrice:j}){return(0,b.jsx)("div",{className:"border-2 border-gray-200 rounded-2xl p-3 sm:p-4 lg:p-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-3 sm:gap-4",children:[(0,b.jsx)("div",{className:"w-full sm:w-28 lg:w-32 h-28 sm:h-28 lg:h-32 rounded-xl overflow-hidden flex-shrink-0 bg-gradient-to-br from-orange-200 to-yellow-100",children:(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover",onError:b=>{b.currentTarget.src="https://via.placeholder.com/200x200/FED7AA/000000?text="+a.name}})}),(0,b.jsxs)("div",{className:"flex-1 w-full min-w-0",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2 sm:mb-3 gap-2",children:[(0,b.jsx)("h3",{className:"font-bold text-base sm:text-lg lg:text-xl text-gray-900 truncate pr-2",children:a.name}),(0,b.jsx)("button",{onClick:()=>e(c),className:"text-red-500 hover:text-red-700 p-1 flex-shrink-0","aria-label":"Hapus item",children:(0,b.jsx)(i,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),(0,b.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,b.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1.5 sm:mb-2",children:"Catatan"}),(0,b.jsx)("input",{type:"text",value:a.notes,onChange:a=>f(c,a.target.value),placeholder:"cth: Goreng Garing Ya Mas",className:"w-full px-3 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:border-orange-500 text-gray-700"})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-2",children:[(0,b.jsx)("span",{className:"text-red-600 font-bold text-base sm:text-lg lg:text-xl",children:j(a.price*a.quantity)}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,b.jsx)("button",{onClick:()=>d(c,a.quantity-1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border-2 border-red-600 text-red-600 flex items-center justify-center hover:bg-red-600 hover:text-white transition-all","aria-label":"Kurangi jumlah",children:(0,b.jsx)(g.Minus,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,b.jsx)("span",{className:"text-base sm:text-lg lg:text-xl font-bold text-gray-900 w-6 sm:w-8 text-center",children:a.quantity}),(0,b.jsx)("button",{onClick:()=>d(c,a.quantity+1),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full border-2 border-red-600 text-red-600 flex items-center justify-center hover:bg-red-600 hover:text-white transition-all","aria-label":"Tambah jumlah",children:(0,b.jsx)(h.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]})]})})}function k({customerName:a,customerPhone:c,onNameChange:d,onPhoneChange:e}){return(0,b.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-gray-900 font-semibold mb-2 sm:mb-3 text-sm sm:text-base lg:text-lg",children:["Nama ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:a,onChange:a=>d(a.target.value),placeholder:"Masukkan Nama Anda",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-500 text-sm sm:text-base lg:text-lg text-gray-700"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-gray-900 font-semibold mb-2 sm:mb-3 text-sm sm:text-base lg:text-lg",children:["Nomor Telepon ",(0,b.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,b.jsx)("input",{type:"tel",value:c,onChange:a=>e(a.target.value),placeholder:"Contoh: 08123456789",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border-2 border-gray-300 rounded-xl focus:outline-none focus:border-orange-500 text-sm sm:text-base lg:text-lg text-gray-700"}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:"ðŸ’¡ Nomor ini digunakan untuk tracking pesanan Anda"})]})]})}function l(){let a=(0,f.useRouter)();return(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("p",{className:"text-gray-600 text-lg sm:text-xl mb-6",children:"Keranjang Anda masih kosong"}),(0,b.jsx)("button",{onClick:()=>a.push("/order"),className:"bg-orange-500 text-white px-6 sm:px-8 py-3 rounded-full font-semibold hover:bg-orange-600 transition-all",children:"Mulai Belanja"})]})}function m({total:a,formatPrice:c,onSubmit:d,submitting:e}){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center py-4 sm:py-6 border-t-2 border-gray-300",children:[(0,b.jsx)("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"TOTAL"}),(0,b.jsx)("span",{className:"text-2xl sm:text-3xl font-bold text-red-600",children:c(a)})]}),(0,b.jsx)("button",{onClick:d,disabled:e,className:"w-full bg-red-600 text-white font-bold text-base sm:text-lg lg:text-xl py-4 sm:py-5 rounded-full hover:bg-red-700 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:e?"Memproses...":"Bayar"})]})}function n(){let a=(0,f.useRouter)(),[g,h]=(0,c.useState)([]),[i,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1);(0,c.useEffect)(()=>{s();let a=localStorage.getItem("customer_phone");a&&p(a)},[]);let s=()=>{let a=localStorage.getItem("pempek_cart");a&&h(JSON.parse(a))},t=a=>{localStorage.setItem("pempek_cart",JSON.stringify(a))},u=(a,b)=>{if(b<1)return;let c=[...g];c[a].quantity=b,h(c),t(c)},v=a=>{let b=g.filter((b,c)=>c!==a);h(b),t(b)},w=(a,b)=>{let c=[...g];c[a].notes=b,h(c),t(c)},x=()=>g.reduce((a,b)=>a+b.price*b.quantity,0),y=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a).replace("IDR","Rp"),z=async()=>{if(0===g.length)return void alert("Keranjang masih kosong!");if(!i.trim())return void alert("Mohon masukkan nama Anda!");if(!o.trim())return void alert("Mohon masukkan nomor telepon Anda!\n\nNomor telepon diperlukan untuk tracking pesanan.");if(o.replace(/\D/g,"").length<10)return void alert("Nomor telepon tidak valid! Minimal 10 digit.");try{r(!0);let b=g.map(a=>a.notes).filter(a=>a&&a.trim()).join(" | "),c={customer_name:i,customer_phone:o,customer_address:"Pickup di tempat",items:g.map(a=>({menu_item_id:a.menu_item_id,quantity:a.quantity,price:a.price,notes:a.notes||null})),total_price:x(),notes:b||"Pickup - Ambil di tempat"};console.log("ðŸ“¤ Creating order...",c);let d=await e.orderAPI.create(c);console.log("âœ… Order created:",d);let f=d.order_id||d.data?.order_id||d.id;if(!f)throw Error("Order ID tidak ditemukan dalam response");console.log("ðŸ†” Order ID:",f);let j=localStorage.getItem("pempek_cart");j&&(localStorage.setItem("pempek_cart_backup",j),console.log("âœ… Cart backed up for potential restore"));let k=g.map(a=>`${a.name} (${a.quantity}x)`).join(", ");sessionStorage.setItem("payment_order_id",f.toString()),sessionStorage.setItem("payment_item_name",k),sessionStorage.setItem("payment_total",x().toString()),sessionStorage.setItem("payment_customer_name",i),console.log("ðŸ’¾ Data saved to sessionStorage"),localStorage.setItem("customer_phone",o);let l={customerName:i,orderId:f,orderDate:new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),products:g.map(a=>`${a.name} (${a.quantity})`),notes:b||"-",status:"Diproses",totalPrice:x()};localStorage.setItem("last_order",JSON.stringify(l)),h([]),localStorage.removeItem("pempek_cart"),window.dispatchEvent(new Event("cartUpdated")),console.log("ðŸš€ Redirecting to payment page..."),a.push(`/payment?orderId=${f}&item=${encodeURIComponent(k)}&total=${x()}&customer=${encodeURIComponent(i)}`)}catch(a){console.error("âŒ Error creating order:",a),alert(`Gagal membuat pesanan: ${a.message}

Silakan coba lagi atau hubungi admin.`)}finally{r(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"pt-20 min-h-screen py-8 sm:py-16 mt-4 sm:mt-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("div",{className:"text-center mb-8 sm:mb-12 mt-6",children:(0,b.jsx)("h1",{className:"text-3xl sm:text-5xl lg:text-6xl font-serif font-bold text-gray-900 mb-2 sm:mb-4",children:"Keranjang Saya"})}),(0,b.jsx)("div",{className:"bg-white rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-12",children:0===g.length?(0,b.jsx)(l,{}):(0,b.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,b.jsx)(k,{customerName:i,customerPhone:o,onNameChange:n,onPhoneChange:p}),(0,b.jsx)("div",{className:"space-y-4 sm:space-y-6",children:g.map((a,c)=>(0,b.jsx)(j,{item:a,index:c,onUpdateQuantity:u,onRemoveItem:v,onUpdateNotes:w,formatPrice:y},c))}),(0,b.jsx)(m,{total:x(),formatPrice:y,onSubmit:z,submitting:q})]})})]})})]})}a.s(["default",()=>n],50588)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cefee0d9._.js.map