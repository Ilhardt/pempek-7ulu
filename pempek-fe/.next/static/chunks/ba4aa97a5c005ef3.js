(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let o=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,o)=>o?o.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,o)=>!!e&&""!==e.trim()&&o.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:d,...c},p)=>(0,t.createElement)("svg",{ref:p,...n,width:o,height:o,stroke:e,strokeWidth:i?24*Number(a)/Number(o):a,className:r("lucide",s),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,o])=>(0,t.createElement)(e,o)),...Array.isArray(l)?l:[l]])),i=(e,n)=>{let i=(0,t.forwardRef)(({className:i,...s},l)=>(0,t.createElement)(a,{ref:l,iconNode:n,className:r(`lucide-${o(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...s}));return i.displayName=o(e),i};e.s(["default",()=>i],75254)},88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},78246,e=>{"use strict";let t="http://localhost:5000/api";async function o(e){let t=await e.json();if(!e.ok)throw Error(t.error||t.message||"Something went wrong");return t.success&&void 0!==t.data?t.data:t}e.s(["authAPI",0,{login:async(e,o)=>{let r=await fetch(`${t}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:o})}),n=await r.json();if(!r.ok)throw Error(n.error||"Login failed");return n.data||n},verifyToken:async e=>o(await fetch(`${t}/auth/verify`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"}))},"menuAPI",0,{getAll:async()=>{try{let e=await fetch(`${t}/menu`,{method:"GET",headers:{"Content-Type":"application/json"}}),o=await e.json();if(console.log("Menu API Response:",o),!e.ok)throw Error(o.error||"Failed to fetch menu");if(o.success&&o.data)return o.data;if(Array.isArray(o))return o;return o.menu||o.data||o}catch(e){throw console.error("Menu API Error:",e),e}},getById:async e=>o(await fetch(`${t}/menu/${e}`)),create:async(e,r)=>o(await fetch(`${t}/menu`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})),update:async(e,r,n)=>o(await fetch(`${t}/menu/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})),delete:async(e,r)=>o(await fetch(`${t}/menu/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"}))},"orderAPI",0,{getAll:async e=>{try{let o=await fetch(`${t}/orders`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"}),r=await o.json();if(console.log("Orders API Response:",r),!o.ok)throw Error(r.error||"Failed to fetch orders");if(r.success&&r.data)return r.data;if(Array.isArray(r))return r;return r.orders||r.data||r}catch(e){throw console.error("Orders API Error:",e),e}},getById:async e=>{try{console.log("ðŸ” Fetching order by ID:",e),console.log("ðŸ“¡ API URL:",`${t}/orders/${e}`);let o=await fetch(`${t}/orders/${e}`),r=await o.json();if(console.log("ðŸ“¦ Order response:",r),console.log("âœ… Response OK?",o.ok),!o.ok)throw console.error("âŒ Order fetch failed:",r.error),Error(r.error||"Order not found");if(r.success&&r.data)return console.log("âœ… Returning result.data"),r.data;return console.log("âœ… Returning result directly"),r}catch(e){throw console.error("âŒ Order getById Error:",e.message),e}},create:async e=>{try{console.log("ðŸ“¤ Creating order with data:",e);let r=await fetch(`${t}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await o(r);return console.log("âœ… Order created, response:",n),console.log("ðŸ†” Order ID from response:",n.order_id||n.id||n.data?.order_id),n}catch(e){throw console.error("âŒ Order create error:",e),e}},updateStatus:async(e,o,r)=>{try{if(!["pending","confirmed","processing","ready","completed","cancelled"].includes(o))throw Error("Invalid status: "+o);let n=await fetch(`${t}/orders/${e}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:o})}),a=await n.json();if(!n.ok)throw Error(a.error||"Failed to update status");return a.data||a}catch(e){throw console.error("Update Status Error:",e),e}},uploadPaymentProof:async(e,o)=>{try{let r;console.log("ðŸ“¤ Starting upload payment proof..."),console.log("ðŸ†” Order ID:",e),console.log("ðŸ“ Image size:",o.length,"characters"),console.log("ðŸ“Š Size estimate:",(o.length/1024).toFixed(2),"KB"),console.log("ðŸ” First 50 chars:",o.substring(0,50));let n=`${t}/orders/${e}/payment-proof`;console.log("ðŸ”— API URL:",n);let a=await fetch(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_proof:o})});console.log("ðŸ“¡ Response status:",a.status),console.log("ðŸ“¡ Response ok:",a.ok);let i=a.headers.get("content-type");if(console.log("ðŸ“„ Content-Type:",i),i&&i.includes("application/json"))r=await a.json(),console.log("ðŸ“¦ Response data:",r);else{let e=await a.text();throw console.error("âŒ Response is not JSON:",e),Error("Server returned non-JSON response: "+e.substring(0,100))}if(!a.ok){console.error("âŒ Upload failed with status:",a.status),console.error("âŒ Error details:",r);let e=r.error||r.message||r.details||`Upload failed with status ${a.status}`;throw Error(e)}if(!r.success)throw console.warn("âš ï¸ Success flag is false:",r),Error(r.error||r.message||"Upload failed but no error message");return console.log("âœ… Upload successful!"),r}catch(e){throw console.error("âŒ Upload Payment Proof Error:",e.message),e.stack&&console.error("Stack trace:",e.stack),Error(e.message||"Failed to upload payment proof. Please check your connection and try again.")}},getByPhone:async e=>{try{console.log("ðŸ“ž Fetching orders for phone:",e);let o=await fetch(`${t}/orders/customer/by-phone/${e}`),r=await o.json();if(console.log("ðŸ“¦ Orders response:",r),!o.ok)throw Error(r.error||"Failed to fetch orders");return r.data||[]}catch(e){throw console.error("âŒ Error fetching orders:",e),e}}}])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},3116,73884,e=>{"use strict";var t=e.i(75254);let o=(0,t.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>o],3116);let r=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>r],73884)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},688,e=>{"use strict";var t=e.i(43476),o=e.i(71645),r=e.i(78246),n=e.i(3116),a=e.i(69638),i=e.i(73884),s=e.i(88844),l=e.i(71689);function d(){return(0,t.jsx)("div",{style:{background:"white",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:(0,t.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",alignItems:"center",gap:"20px"},children:[(0,t.jsx)("button",{onClick:()=>window.history.back(),style:{padding:"10px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,t.jsx)(l.ArrowLeft,{style:{width:"24px",height:"24px",color:"#111827"}})}),(0,t.jsx)("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#111827"},children:"Pesanan Saya"})]})})}let c=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function p({phoneNumber:e,loading:o,error:r,onPhoneChange:n,onSearch:a,onClear:i}){return(0,t.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"30px",marginBottom:"30px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[(0,t.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px",color:"#111827"},children:"ðŸ” Cek Status Pesanan"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[(0,t.jsx)("input",{type:"tel",value:e,onChange:e=>n(e.target.value),placeholder:"Masukkan nomor telepon (contoh: 08123456789)",style:{flex:"1",minWidth:"250px",padding:"15px 20px",border:"2px solid #E5E7EB",borderRadius:"12px",fontSize:"16px",outline:"none",color:"#111827"},onKeyPress:e=>"Enter"===e.key&&a()}),e&&(0,t.jsx)("button",{onClick:i,style:{padding:"15px 20px",background:"#DC2626",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"âœ• Clear"}),(0,t.jsxs)("button",{onClick:()=>a(),disabled:o,style:{padding:"15px 30px",background:o?"#9CA3AF":"#F59E0B",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:o?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)(c,{style:{width:"20px",height:"20px"}}),o?"Mencari...":"Cari Pesanan"]})]}),r&&(0,t.jsxs)("p",{style:{marginTop:"15px",color:"#DC2626",fontSize:"14px"},children:["âš ï¸ ",r]})]})}function g({order:e,onViewDetail:o,getStatusInfo:r,formatPrice:n,formatDate:a}){let i=r(e.status),s=i.icon;return(0,t.jsxs)("div",{style:{background:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",transition:"all 0.3s",cursor:"pointer"},onClick:()=>o(e.id),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-5px)",e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.08)"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,t.jsxs)("span",{style:{fontFamily:"monospace",fontSize:"18px",fontWeight:"bold",color:"#111827"},children:["#",e.id.toString().padStart(6,"0")]}),(0,t.jsxs)("span",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"5px"},className:i.color,children:[(0,t.jsx)(s,{style:{width:"14px",height:"14px"}}),i.label]})]}),(0,t.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,t.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827",marginBottom:"5px"},children:e.customer_name}),(0,t.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280"},children:["ðŸ“ž ",e.customer_phone]})]}),(0,t.jsxs)("div",{style:{padding:"15px",background:"#F9FAFB",borderRadius:"12px",marginBottom:"15px"},children:[(0,t.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["ðŸ“… ",a(e.created_at)]}),(0,t.jsxs)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["ðŸ“¦ ",e.item_count," item"]}),(0,t.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold",color:"#F59E0B",marginTop:"10px"},children:n(e.total_price)})]}),(0,t.jsx)("button",{style:{width:"100%",padding:"12px",background:"#FEF3C7",color:"#92400E",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Lihat Detail â†’"})]})}function h({show:e,order:o,onClose:r,getStatusInfo:n,formatPrice:a,formatDate:i}){return e&&o?(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:r,children:(0,t.jsxs)("div",{style:{background:"white",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflowY:"auto",borderRadius:"20px",padding:"30px",position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:r,style:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:"Ã—"}),(0,t.jsxs)("h2",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px",color:"#111827"},children:["Detail Pesanan #",o.id.toString().padStart(6,"0")]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Nama Customer"}),(0,t.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:o.customer_name})]}),(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Telepon"}),(0,t.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:o.customer_phone})]}),(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Tanggal Pesanan"}),(0,t.jsx)("p",{style:{fontSize:"16px",fontWeight:"600",color:"#111827"},children:i(o.created_at)})]}),o.notes&&(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Catatan"}),(0,t.jsx)("p",{style:{fontSize:"16px",color:"#111827"},children:o.notes})]}),(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"1px solid #E5E7EB"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"10px"},children:"Item Pesanan"}),o.items&&o.items.map((e,o)=>(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",background:"#F9FAFB",borderRadius:"8px",marginBottom:"8px"},children:[(0,t.jsxs)("span",{style:{fontSize:"14px",color:"#111827"},children:[e.menu_name," x",e.quantity]}),(0,t.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#111827"},children:a(e.price*e.quantity)})]},o))]}),(0,t.jsxs)("div",{style:{paddingBottom:"15px",borderBottom:"2px solid #F59E0B"},children:[(0,t.jsx)("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"5px"},children:"Status"}),(0,t.jsx)("span",{style:{display:"inline-flex",alignItems:"center",gap:"5px",padding:"8px 15px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},className:n(o.status).color,children:n(o.status).label})]}),(0,t.jsx)("div",{style:{paddingTop:"15px"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#111827"},children:"TOTAL"}),(0,t.jsx)("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#F59E0B"},children:a(o.total_price)})]})})]})]})}):null}function u(){return(0,t.jsx)("style",{children:`
      .bg-yellow-100 { background-color: #FEF3C7; }
      .text-yellow-800 { color: #92400E; }
      .bg-blue-100 { background-color: #DBEAFE; }
      .text-blue-800 { color: #1E40AF; }
      .bg-purple-100 { background-color: #EDE9FE; }
      .text-purple-800 { color: #5B21B6; }
      .bg-green-100 { background-color: #D1FAE5; }
      .text-green-800 { color: #065F46; }
      .bg-gray-100 { background-color: #F3F4F6; }
      .text-gray-800 { color: #1F2937; }
      .bg-red-100 { background-color: #FEE2E2; }
      .text-red-800 { color: #991B1B; }
    `})}function x(){let[e,l]=(0,o.useState)(""),[c,x]=(0,o.useState)([]),[y,m]=(0,o.useState)(!1),[f,b]=(0,o.useState)(""),[w,j]=(0,o.useState)(null),[k,S]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("customer_phone");e&&l(e)},[]);let B=async t=>{let o=t||e;if(!o)return void b("Masukkan nomor telepon");try{m(!0),b("");let e=await r.orderAPI.getByPhone(o);x(e),localStorage.setItem("customer_phone",o),0===e.length&&b("Tidak ada pesanan ditemukan untuk nomor ini")}catch(e){b("Gagal memuat pesanan: "+e.message)}finally{m(!1)}},E=async e=>{try{let t=await r.orderAPI.getById(e.toString());j(t),S(!0)}catch(e){alert("Gagal memuat detail: "+e.message)}},C=e=>{let t={pending:{label:"Menunggu Pembayaran",color:"bg-yellow-100 text-yellow-800",icon:n.Clock},confirmed:{label:"Pembayaran Dikonfirmasi",color:"bg-blue-100 text-blue-800",icon:a.CheckCircle},processing:{label:"Sedang Diproses",color:"bg-purple-100 text-purple-800",icon:s.Package},ready:{label:"Siap Diambil",color:"bg-green-100 text-green-800",icon:a.CheckCircle},completed:{label:"Selesai",color:"bg-gray-100 text-gray-800",icon:a.CheckCircle},cancelled:{label:"Dibatalkan",color:"bg-red-100 text-red-800",icon:i.XCircle}};return t[e]||t.pending},v=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),A=e=>new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #FEF3C7 0%, #FED7AA 50%, #FECACA 100%)"},children:[(0,t.jsx)(d,{}),(0,t.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"40px 20px"},children:[(0,t.jsx)(p,{phoneNumber:e,loading:y,error:f,onPhoneChange:l,onSearch:B,onClear:()=>{l(""),x([]),b(""),localStorage.removeItem("customer_phone")}}),c.length>0&&(0,t.jsx)("div",{style:{display:"grid",gap:"20px",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))"},children:c.map(e=>(0,t.jsx)(g,{order:e,onViewDetail:E,getStatusInfo:C,formatPrice:v,formatDate:A},e.id))})]}),(0,t.jsx)(h,{show:k,order:w,onClose:()=>S(!1),getStatusInfo:C,formatPrice:v,formatDate:A}),(0,t.jsx)(u,{})]})}e.s(["default",()=>x],688)}]);