(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88844,e=>{"use strict";let t=(0,e.i(75254).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],88844)},78246,e=>{"use strict";let t="http://localhost:5000/api";async function a(e){let t=await e.json();if(!e.ok)throw Error(t.error||t.message||"Something went wrong");return t.success&&void 0!==t.data?t.data:t}e.s(["authAPI",0,{login:async(e,a)=>{let s=await fetch(`${t}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:a})}),r=await s.json();if(!s.ok)throw Error(r.error||"Login failed");return r.data||r},verifyToken:async e=>a(await fetch(`${t}/auth/verify`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"}))},"menuAPI",0,{getAll:async()=>{try{let e=await fetch(`${t}/menu`,{method:"GET",headers:{"Content-Type":"application/json"}}),a=await e.json();if(console.log("Menu API Response:",a),!e.ok)throw Error(a.error||"Failed to fetch menu");if(a.success&&a.data)return a.data;if(Array.isArray(a))return a;return a.menu||a.data||a}catch(e){throw console.error("Menu API Error:",e),e}},getById:async e=>a(await fetch(`${t}/menu/${e}`)),create:async(e,s)=>a(await fetch(`${t}/menu`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})),update:async(e,s,r)=>a(await fetch(`${t}/menu/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})),delete:async(e,s)=>a(await fetch(`${t}/menu/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},credentials:"include"}))},"orderAPI",0,{getAll:async e=>{try{let a=await fetch(`${t}/orders`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},credentials:"include"}),s=await a.json();if(console.log("Orders API Response:",s),!a.ok)throw Error(s.error||"Failed to fetch orders");if(s.success&&s.data)return s.data;if(Array.isArray(s))return s;return s.orders||s.data||s}catch(e){throw console.error("Orders API Error:",e),e}},getById:async e=>{try{console.log("ðŸ” Fetching order by ID:",e),console.log("ðŸ“¡ API URL:",`${t}/orders/${e}`);let a=await fetch(`${t}/orders/${e}`),s=await a.json();if(console.log("ðŸ“¦ Order response:",s),console.log("âœ… Response OK?",a.ok),!a.ok)throw console.error("âŒ Order fetch failed:",s.error),Error(s.error||"Order not found");if(s.success&&s.data)return console.log("âœ… Returning result.data"),s.data;return console.log("âœ… Returning result directly"),s}catch(e){throw console.error("âŒ Order getById Error:",e.message),e}},create:async e=>{try{console.log("ðŸ“¤ Creating order with data:",e);let s=await fetch(`${t}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await a(s);return console.log("âœ… Order created, response:",r),console.log("ðŸ†” Order ID from response:",r.order_id||r.id||r.data?.order_id),r}catch(e){throw console.error("âŒ Order create error:",e),e}},updateStatus:async(e,a,s)=>{try{if(!["pending","confirmed","processing","ready","completed","cancelled"].includes(a))throw Error("Invalid status: "+a);let r=await fetch(`${t}/orders/${e}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:a})}),l=await r.json();if(!r.ok)throw Error(l.error||"Failed to update status");return l.data||l}catch(e){throw console.error("Update Status Error:",e),e}},uploadPaymentProof:async(e,a)=>{try{let s;console.log("ðŸ“¤ Starting upload payment proof..."),console.log("ðŸ†” Order ID:",e),console.log("ðŸ“ Image size:",a.length,"characters"),console.log("ðŸ“Š Size estimate:",(a.length/1024).toFixed(2),"KB"),console.log("ðŸ” First 50 chars:",a.substring(0,50));let r=`${t}/orders/${e}/payment-proof`;console.log("ðŸ”— API URL:",r);let l=await fetch(r,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({payment_proof:a})});console.log("ðŸ“¡ Response status:",l.status),console.log("ðŸ“¡ Response ok:",l.ok);let n=l.headers.get("content-type");if(console.log("ðŸ“„ Content-Type:",n),n&&n.includes("application/json"))s=await l.json(),console.log("ðŸ“¦ Response data:",s);else{let e=await l.text();throw console.error("âŒ Response is not JSON:",e),Error("Server returned non-JSON response: "+e.substring(0,100))}if(!l.ok){console.error("âŒ Upload failed with status:",l.status),console.error("âŒ Error details:",s);let e=s.error||s.message||s.details||`Upload failed with status ${l.status}`;throw Error(e)}if(!s.success)throw console.warn("âš ï¸ Success flag is false:",s),Error(s.error||s.message||"Upload failed but no error message");return console.log("âœ… Upload successful!"),s}catch(e){throw console.error("âŒ Upload Payment Proof Error:",e.message),e.stack&&console.error("Stack trace:",e.stack),Error(e.message||"Failed to upload payment proof. Please check your connection and try again.")}},getByPhone:async e=>{try{console.log("ðŸ“ž Fetching orders for phone:",e);let a=await fetch(`${t}/orders/customer/by-phone/${e}`),s=await a.json();if(console.log("ðŸ“¦ Orders response:",s),!a.ok)throw Error(s.error||"Failed to fetch orders");return s.data||[]}catch(e){throw console.error("âŒ Error fetching orders:",e),e}}}])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},3116,73884,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>a],3116);let s=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},43432,73708,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>a],43432);let s=(0,t.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>s],73708)},79111,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(78246),r=e.i(18566),l=e.i(37727),n=e.i(63209),o=e.i(43432),i=e.i(75254);let c=(0,i.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var d=e.i(3116),m=e.i(88844);let x=(0,i.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var g=e.i(69638),u=e.i(73884),h=e.i(73708);function p(){let e=(0,r.useRouter)(),[i,p]=(0,a.useState)([]),[y,f]=(0,a.useState)([]),[b,j]=(0,a.useState)(!0),[N,w]=(0,a.useState)(null),[k,v]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),[P,T]=(0,a.useState)(""),[A,I]=(0,a.useState)(""),[$,_]=(0,a.useState)(!1),[D,O]=(0,a.useState)("pending");(0,a.useEffect)(()=>{E()},[]),(0,a.useEffect)(()=>{B()},[i,P,A,D]);let E=async()=>{try{j(!0);let t=localStorage.getItem("adminToken");if(!t)return void e.push("/login");let a=await s.orderAPI.getAll(t),r=Array.isArray(a)?a:[];console.log("All orders:",r),p(r)}catch(e){console.error("Error:",e)}finally{j(!1)}},B=()=>{let e=i;"pending"===D?e=e.filter(e=>"pending"===e.status&&null!==e.payment_proof):"confirmed"===D?e=e.filter(e=>"confirmed"===e.status&&null!==e.payment_proof):"cancelled"===D?e=e.filter(e=>"cancelled"===e.status&&null!==e.payment_proof):"no_proof"===D?e=e.filter(e=>null===e.payment_proof):"completed"===D?e=e.filter(e=>("processing"===e.status||"ready"===e.status||"completed"===e.status)&&null!==e.payment_proof):"all"===D&&(e=e.filter(e=>null!==e.payment_proof)),(P||A)&&(e=e.filter(e=>{let t=new Date(e.created_at),a=P?new Date(P):null,s=A?new Date(A):null;return(a&&a.setHours(0,0,0,0),s&&s.setHours(23,59,59,999),a&&s)?t>=a&&t<=s:a?t>=a:!s||t<=s})),f(e)},F=async e=>{try{let t=await s.orderAPI.getById(e.toString());w(t),v(!0)}catch(e){alert("Gagal memuat detail: "+e.message)}},z=async e=>{if(confirm("Konfirmasi pembayaran order ini?"))try{let t=localStorage.getItem("adminToken");if(!t)return;await s.orderAPI.updateStatus(e.toString(),"confirmed",t),alert("âœ… Pembayaran dikonfirmasi!"),v(!1),E()}catch(e){alert("Gagal konfirmasi: "+e.message)}},R=async e=>{try{let t=localStorage.getItem("adminToken");if(!t)return;await s.orderAPI.updateStatus(e.toString(),"cancelled",t),v(!1),E()}catch(e){alert("Gagal menolak: "+e.message)}},M=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),K=e=>new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return b?(0,t.jsx)("div",{className:"p-4 sm:p-8 flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-500 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Memuat data..."})]})}):(0,t.jsxs)("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Konfirmasi Pembayaran"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["pending"===D&&"Pesanan menunggu konfirmasi","confirmed"===D&&"Pesanan yang sudah dikonfirmasi","cancelled"===D&&"Pesanan yang ditolak","no_proof"===D&&"Pesanan tanpa bukti bayar","completed"===D&&"Pesanan yang sudah selesai","all"===D&&"Semua pesanan dengan bukti bayar"," (",y.length,")"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:E,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Refresh"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-2 mb-4 flex gap-2 overflow-x-auto",children:[(0,t.jsx)("button",{onClick:()=>O("pending"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"pending"===D?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(n.AlertCircle,{className:"w-4 h-4"}),"Menunggu Konfirmasi"]})}),(0,t.jsx)("button",{onClick:()=>O("confirmed"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"confirmed"===D?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(g.CheckCircle,{className:"w-4 h-4"}),"Sudah Dikonfirmasi"]})}),(0,t.jsx)("button",{onClick:()=>O("completed"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"completed"===D?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(m.Package,{className:"w-4 h-4"}),"Sudah Selesai"]})}),(0,t.jsx)("button",{onClick:()=>O("cancelled"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"cancelled"===D?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(u.XCircle,{className:"w-4 h-4"}),"Ditolak"]})}),(0,t.jsx)("button",{onClick:()=>O("all"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"all"===D?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(h.Image,{className:"w-4 h-4"}),"Semua Bukti Bayar"]})}),(0,t.jsx)("button",{onClick:()=>O("no_proof"),className:`flex-1 min-w-fit px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${"no_proof"===D?"bg-gray-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(n.AlertCircle,{className:"w-4 h-4"}),"Whatsapp"]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 mb-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-700",children:"Filter Tanggal"}),(0,t.jsx)("button",{onClick:()=>_(!$),className:"text-sm text-gray-500 hover:text-gray-700",children:$?"Sembunyikan":"Tampilkan"})]}),$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Dari Tanggal"}),(0,t.jsx)("input",{type:"date",value:P,onChange:e=>T(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sampai Tanggal"}),(0,t.jsx)("input",{type:"date",value:A,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-600"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{let e=new Date().toISOString().split("T")[0];T(e),I(e)},className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Hari Ini"})}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{T(""),I("")},className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Reset"})})]}),(P||A)&&(0,t.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:["Menampilkan ",y.length," dari"," ","all"===D?i.filter(e=>null!==e.payment_proof).length:"no_proof"===D?i.filter(e=>null===e.payment_proof).length:i.filter(e=>{let t=null!==e.payment_proof;return"pending"===D?"pending"===e.status&&t:"confirmed"===D?"confirmed"===e.status&&t:"cancelled"===D?"cancelled"===e.status&&t:("processing"===e.status||"ready"===e.status||"completed"===e.status)&&t}).length," ","pesanan"]})]})]})]}),0===y.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 sm:p-12 text-center",children:[(0,t.jsx)(n.AlertCircle,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,t.jsxs)("p",{className:"text-gray-600 text-lg",children:[0===i.length?"âœ… Tidak ada pembayaran yang perlu dikonfirmasi":"pending"===D?"Tidak ada pembayaran yang menunggu konfirmasi":"confirmed"===D?"Tidak ada pembayaran yang sudah dikonfirmasi":"cancelled"===D?"Tidak ada pembayaran yang ditolak":"no_proof"===D?"Tidak ada pesanan tanpa bukti bayar":"completed"===D?"Tidak ada pesanan yang sudah selesai":"Tidak ada data",(P||A)&&" pada periode yang dipilih"]})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow border border-gray-100",children:[(0,t.jsx)("div",{className:`text-white p-4 rounded-t-xl ${"pending"===e.status?"bg-gradient-to-r from-yellow-500 to-yellow-600":"confirmed"===e.status?"bg-gradient-to-r from-green-500 to-green-600":"cancelled"===e.status?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium opacity-90",children:"Order ID"}),(0,t.jsxs)("span",{className:"text-lg font-bold",children:["#",e.id.toString().padStart(6,"0")]})]})}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(c,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Pelanggan"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-800 truncate",children:e.customer_name})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(o.Phone,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Telepon"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.customer_phone})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(d.Clock,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Tanggal"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:K(e.created_at)})]})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Total"}),(0,t.jsx)("span",{className:"text-lg font-bold text-orange-600",children:M(e.total_price)})]})}),(0,t.jsxs)("div",{className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg ${"pending"===e.status?"bg-yellow-50 text-yellow-700":"confirmed"===e.status?"bg-green-50 text-green-700":"cancelled"===e.status?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}`,children:["pending"===e.status&&(0,t.jsx)(n.AlertCircle,{className:"w-4 h-4"}),"confirmed"===e.status&&(0,t.jsx)(g.CheckCircle,{className:"w-4 h-4"}),"cancelled"===e.status&&(0,t.jsx)(u.XCircle,{className:"w-4 h-4"}),("processing"===e.status||"ready"===e.status||"completed"===e.status)&&(0,t.jsx)(m.Package,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-xs font-semibold",children:["pending"===e.status&&"Menunggu Konfirmasi","confirmed"===e.status&&"Sudah Dikonfirmasi","cancelled"===e.status&&"Ditolak","processing"===e.status&&"Sedang Diproses","ready"===e.status&&"Siap Diambil","completed"===e.status&&"Selesai"]})]})]}),(0,t.jsx)("div",{className:"p-4 pt-0",children:(0,t.jsxs)("button",{onClick:()=>F(e.id),className:`w-full px-4 py-2.5 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${"pending"===e.status?"bg-orange-500 hover:bg-orange-600 text-white":"confirmed"===e.status?"bg-green-500 hover:bg-green-600 text-white":"cancelled"===e.status?"bg-gray-500 hover:bg-gray-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[(0,t.jsx)(h.Image,{className:"w-4 h-4"}),e.payment_proof?"Lihat Detail & Bukti Bayar":"Lihat Detail Pesanan"]})})]},e.id))}),k&&N&&(0,t.jsx)("div",{className:"fixed inset-0 backdrop-blur-xs bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 flex justify-between items-center rounded-t-2xl z-10",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Detail Pembayaran"}),(0,t.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(l.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)(m.Package,{className:"w-5 h-5 text-orange-500"}),"Informasi Pesanan"]}),(0,t.jsxs)("div",{className:"space-y-2.5 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Order ID"}),(0,t.jsxs)("span",{className:"font-semibold text-gray-900",children:["#",N.id.toString().padStart(6,"0")]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Nama"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:N.customer_name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Telepon"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:N.customer_phone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tanggal"}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:K(N.created_at)})]})]})]}),N.notes&&(0,t.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Catatan Pesanan"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:N.notes})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Produk Dipesan"}),(0,t.jsx)("div",{className:"space-y-2",children:N.items&&N.items.map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm bg-white rounded-lg p-2.5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.menu_name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]}),(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:M(e.price*e.quantity)})]},a))}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-bold text-gray-900",children:"Total"}),(0,t.jsx)("span",{className:"font-bold text-xl text-orange-600",children:M(N.total_price)})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)(x,{className:"w-5 h-5 text-orange-500"}),"Bukti Pembayaran"]}),N.payment_proof?(0,t.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 flex items-center justify-center min-h-[200px]",children:(0,t.jsx)("img",{src:N.payment_proof,alt:"Bukti Pembayaran",className:"max-w-full max-h-[400px] rounded-lg shadow cursor-pointer hover:scale-105 transition-transform",onClick:()=>S(!0),onError:e=>{console.error("Failed to load image"),e.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Load+Failed"}})}):(0,t.jsxs)("div",{className:"bg-white rounded-lg p-8 text-center border-2 border-dashed border-gray-300",children:[(0,t.jsx)(n.AlertCircle,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),(0,t.jsx)("p",{className:"font-semibold text-gray-700",children:"Belum ada bukti pembayaran"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Customer belum mengupload bukti transfer"})]}),N.payment_proof&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"ðŸ’¡ Klik gambar untuk memperbesar"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:["pending"===N.status&&(0,t.jsxs)(t.Fragment,{children:[!N.payment_proof&&(0,t.jsx)("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(n.AlertCircle,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-yellow-800 text-sm",children:"Konfirmasi Via WhatsApp"}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Customer belum upload bukti bayar. Pastikan Anda sudah mengonfirmasi pembayaran via WhatsApp sebelum menerima pesanan ini."})]})]})}),(0,t.jsxs)("button",{onClick:()=>z(N.id),className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(g.CheckCircle,{className:"w-5 h-5"}),N.payment_proof?"Terima Pembayaran":"Konfirmasi Pembayaran (Via WA)"]}),(0,t.jsxs)("button",{onClick:()=>R(N.id),className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(u.XCircle,{className:"w-5 h-5"}),"Tolak Pembayaran"]})]}),"confirmed"===N.status&&(0,t.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 text-center",children:[(0,t.jsx)(g.CheckCircle,{className:"w-16 h-16 mx-auto mb-3 text-green-600"}),(0,t.jsx)("p",{className:"font-bold text-lg text-green-800",children:"Pembayaran Sudah Dikonfirmasi"}),(0,t.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Order sedang diproses"})]}),"cancelled"===N.status&&(0,t.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 text-center",children:[(0,t.jsx)(u.XCircle,{className:"w-16 h-16 mx-auto mb-3 text-red-600"}),(0,t.jsx)("p",{className:"font-bold text-lg text-red-800",children:"Pembayaran Ditolak"}),(0,t.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"Order dibatalkan"})]}),("processing"===N.status||"ready"===N.status||"completed"===N.status)&&(0,t.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 text-center",children:[(0,t.jsx)(m.Package,{className:"w-16 h-16 mx-auto mb-3 text-blue-600"}),(0,t.jsxs)("p",{className:"font-bold text-lg text-blue-800",children:["processing"===N.status&&"Pesanan Sedang Diproses","ready"===N.status&&"Pesanan Siap Diambil","completed"===N.status&&"Pesanan Sudah Selesai"]}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 mt-2",children:["processing"===N.status&&"Order sedang dibuat","ready"===N.status&&"Menunggu customer mengambil","completed"===N.status&&"Transaksi selesai"]})]})]})]})]})})]})}),C&&N?.payment_proof&&(0,t.jsxs)("div",{className:"fixed inset-0 backdrop-blur-xs bg-opacity-95 flex items-center justify-center z-[100] p-4",onClick:()=>S(!1),children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10 bg-black bg-opacity-50 rounded-full p-2",children:(0,t.jsx)(l.X,{className:"w-8 h-8"})}),(0,t.jsx)("div",{className:"relative max-w-[95vw] max-h-[95vh] flex items-center justify-center",children:(0,t.jsx)("img",{src:N.payment_proof,alt:"Bukti Pembayaran - Fullscreen",className:"max-w-full max-h-[95vh] object-contain rounded-lg",onClick:e=>e.stopPropagation(),onError:e=>{console.error("Failed to load fullscreen image"),e.currentTarget.src="https://via.placeholder.com/800x600?text=Image+Load+Failed"}})}),(0,t.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white text-sm bg-black bg-opacity-50 px-4 py-2 rounded-full",children:"ðŸ’¡ Klik di mana saja untuk menutup"})]})]})}e.s(["default",()=>p],79111)}]);